<div class="page-container">

  <!-- HEADER -->
  <div class="header-card">
    <h2>Firefighter Account Management</h2>
    <button class="add-btn" (click)="openModal()">Add Driver</button>
  </div>

  <!-- DRIVER LIST TABLE -->
  <div class="table-card">
    <div class="table-title">Drivers List</div>

    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Full Name</th>
          <th>Station</th>
          <th>Email</th>
          <th>Contact</th>
          <th>Status</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let driver of driverList; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ driver.fullName }}</td>
          <td>{{ driver.stationName }}</td>
          <td>{{ driver.email }}</td>
          <td>{{ driver.contact }}</td>
          <td>{{ driver.status }}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

<!-- ADD DRIVER MODAL -->
<div class="modal-backdrop" *ngIf="showModal">
  <div class="modal-box">

    <div class="modal-title">Add Driver</div>

    <div class="modal-content">

      <!-- FORM -->
      <div class="form-container">

        <div class="form-group">
          <label>Driver Name</label>
          <input [(ngModel)]="driverName" type="text" placeholder="Enter full name">
        </div>

        <div class="form-group">
          <label>Email</label>
          <input [(ngModel)]="driverEmail" type="email" placeholder="Enter email address">
        </div>

        <div class="form-group">
          <label>Contact</label>
          <input [(ngModel)]="driverContact" type="text" placeholder="Enter contact number">
        </div>

        <div class="form-group">
          <label>Assign Fire Station</label>
          <select [(ngModel)]="selectedStationId" (change)="setStationName()">
            <option value="">Select Station</option>
            <option *ngFor="let s of stationList" [value]="s.id">
              {{ s.stationName }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label>Status</label>
          <select [(ngModel)]="status">
            <option>Active</option>
            <option>Inactive</option>
          </select>
        </div>

      </div>

    </div>

    <div class="modal-footer">
      <button class="cancel-btn" (click)="closeModal()">Cancel</button>
      <button class="save-btn" (click)="saveDriver()">Save Driver</button>
    </div>

  </div>
</div>


<!-- LOADING SPINNER OVERLAY -->
<div class="loading-overlay" *ngIf="isLoading">
  <div class="spinner-container">
    <img src="images/ic_logo.png" alt="Logo" class="spinner-logo">
    <div class="spinner"></div>
  </div>
</div>

